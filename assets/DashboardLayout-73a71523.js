import{_,R as v,c as g,d as t,a as s,w as r,g as b,F as k,r as c,o as f,b as l}from"./index-f04841b6.js";import{T as m}from"./ToastMessages-ff0850af.js";const $="/vue-task-week7/Logo.png",{VITE_APP_URL:d}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"tunafin",BASE_URL:"/vue-task-week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},M={components:{RouterView:v,ToastMessages:m},data(){return{status:!1}},methods:{logout(){const e=`${d}/logout`;this.$http.post(e).then(a=>{this.$httpMessageState(a,"登出"),a.data.success&&this.$router.push("/login")}).catch(a=>{this.$httpMessageState(a.response,"錯誤訊息")})}},created(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${e}`;const a=`${d}/v2/api/user/check`;this.$http.post(a).then(o=>{this.$httpMessageState(o,"登入"),this.status=!0}).catch(o=>{this.$router.push("/login"),this.$httpMessageState(o.response,"錯誤訊息")})}},T={class:"navbar navbar-expand-lg navbar-dark bg-dark"},x={class:"container-fluid"},A=t("img",{src:$,alt:"logo",height:"40"},null,-1),w=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),P={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},V={class:"navbar-nav"},E={class:"navbar-nav ms-auto"},R={class:"container"};function S(e,a,o,N,L,i){const n=c("router-link"),h=c("ToastMessages"),u=c("router-view");return f(),g(k,null,[t("nav",T,[t("div",x,[s(n,{to:"/dashboard",class:"nav-link"},{default:r(()=>[A]),_:1}),w,t("div",P,[t("div",V,[s(n,{to:"/dashboard/products",class:"nav-link"},{default:r(()=>[l("產品列表")]),_:1}),s(n,{to:"/dashboard/orders",class:"nav-link"},{default:r(()=>[l("訂單")]),_:1})]),t("div",E,[t("a",{href:"#",onClick:a[0]||(a[0]=b((...p)=>i.logout&&i.logout(...p),["prevent"])),class:"nav-link"},"登出")])])])]),t("div",R,[s(h),s(u)])],64)}const C=_(M,[["render",S]]);export{C as default};
