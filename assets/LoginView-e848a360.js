import{T as _}from"./ToastMessages-5e0da673.js";import{_ as h,c as g,a as l,d as s,f as d,v as c,g as f,r as p,o as v}from"./index-c6e7b88d.js";const b="/Logo_2.png",{VITE_APP_URL:w}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"tunafin",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},L={components:{ToastMessages:_},data(){return{isLoading:!1,user:{}}},methods:{signIn(){const n=`${w}/v2/admin/signin`;this.isLoading=!0,this.$http.post(n,this.user).then(e=>{const{token:i,expired:a}=e.data;document.cookie=`hexToken=${i};expires=${new Date(a)};`,this.isLoading=!1,this.$router.push("/dashboard/orders")}).catch(e=>{this.isLoading=!1,this.$httpMessageState(e.response,"登入")})}}},P={class:"container mt-5"},E={class:"col-md-6"},x=s("div",{class:"rounded p-1 mb-3 bg-secondary"},[s("img",{src:b,alt:"logo"})],-1),y=s("h1",{class:"h3 mb-3 font-weight-normal"},"後臺登入",-1),T={class:"mb-2"},V=s("label",{for:"inputEmail",class:"sr-only"},"Email",-1),M={class:"mb-2"},k=s("label",{for:"inputPassword",class:"sr-only"},"Password",-1),I=s("div",{class:"text-end mt-4"},[s("button",{class:"btn btn-lg btn-primary btn-block",type:"submit"}," 登入 ")],-1);function A(n,e,i,a,o,r){const u=p("LoadingOverlay"),m=p("ToastMessages");return v(),g("div",P,[l(u,{active:o.isLoading,"z-index":1060},null,8,["active"]),l(m),s("form",{class:"row justify-content-center",onSubmit:e[2]||(e[2]=f((...t)=>r.signIn&&r.signIn(...t),["prevent"]))},[s("div",E,[x,y,s("div",T,[V,d(s("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=t=>o.user.username=t),required:"",autofocus:""},null,512),[[c,o.user.username]])]),s("div",M,[k,d(s("input",{type:"password",id:"inputPassword",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>o.user.password=t),placeholder:"Password",required:""},null,512),[[c,o.user.password]])]),I])],32)])}const S=h(L,[["render",A]]);export{S as default};
